wrapper {
	gradleVersion = '7.0.2'
}

allprojects {
    // just added clean so problem shows up every time
    defaultTasks 'clean', 'build'
}

subprojects {
    apply plugin: 'java-library'
    apply plugin: 'pmd'

    repositories {
        mavenCentral()
    }

    pmd {
        toolVersion = '6.35.0'
        incrementalAnalysis = true
        //ignoreFailures = true
    }
}

def project1 = project(':project1') {
    dependencies {
        implementation 'org.apache.commons:commons-compress:1.20'
    }
}

project(':project2') {
    dependencies {
        implementation project1
    }
}
